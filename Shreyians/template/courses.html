{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Courses</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ================= GLOBAL ================= */
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family: Inter, system-ui, sans-serif;
}

:root{
    --bg:#0c0c0c;
    --card:#111111;
    --border:#1f1f1f;
    --text:#e5e7eb;
    --muted:#9ca3af;
    --accent:#24cfa6;
}

body{
    background:var(--bg);
    color:var(--text);
}

/* ================= NAVBAR ================= */
.navbar{
    height:80px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:0 6rem;
    border-bottom:1px solid var(--border);
}

.logo span{
    color:var(--accent);
    font-size:22px;
    font-weight:600;
}

.nav-links{
    list-style:none;
    display:flex;
    gap:40px;
}

.nav-links a{
    text-decoration:none;
    color:var(--text);
    font-size:15px;
}

.nav-links a:hover{
    color:var(--accent);
}

.auth-buttons{
    display:flex;
    align-items:center;
    gap:14px;
}

.auth-buttons a{
    text-decoration:none;
    padding:10px 22px;
    border-radius:999px;
    font-size:14px;
    font-weight:600;
}

.login{
    color:var(--accent);
    border:1px solid var(--accent);
}

.signup{
    background:var(--accent);
    color:#000;
}

/* ================= PAGE ================= */
.container{
    width:90%;
    margin:5rem auto;
}

.container h1{
    font-size:2.8rem;
    font-weight:400;
    margin-bottom:3rem;
}

/* ================= COURSES GRID ================= */
.courses{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
    gap:24px;
}

/* ================= COURSE CARD ================= */
.course-card{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:18px;
    padding:16px;
    transition:.3s;
}

.course-card:hover{
    transform:translateY(-6px);
    border-color:var(--accent);
}

.course-card img{
    width:100%;
    height:170px;
    object-fit:cover;
    border-radius:12px;
}

.course-card h3{
    margin-top:14px;
    font-size:18px;
    font-weight:500;
}

.course-card p{
    font-size:14px;
    color:var(--muted);
    margin:8px 0;
}

/* ================= PRICE ================= */
.price{
    margin-top:10px;
    font-size:16px;
}

.price del{
    color:#6b7280;
    margin-right:8px;
}

.price strong{
    color:var(--accent);
    font-weight:600;
}

.badge{
    background:rgba(36,207,166,.15);
    color:var(--accent);
    padding:4px 10px;
    border-radius:999px;
    font-size:12px;
    margin-left:6px;
}

/* ================= COURSE TYPE ================= */
.course-type{
    font-size:13px;
    color:#9ca3af;
    margin-top:6px;
}

/* ================= BUTTON ================= */
.btn{
    display:inline-block;
    margin-top:14px;
    font-size:14px;
    font-weight:500;
    color:var(--accent);
    text-decoration:none;
}

.btn:hover{
    text-decoration:underline;
}
/* ================= FOOTER=================  */
footer{
    border-top:1px solid var(--border);
    padding:4rem 6rem 2rem;
}
.footer-grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:3rem;
}
footer h3{color:var(--accent);margin-bottom:14px;}
footer a,footer p{
    display:block;
    color:var(--muted);
    font-size:14px;
    margin-bottom:10px;
    text-decoration:none;
}
/* ================= RESPONSIVE ================= */
@media(max-width:768px){
    .navbar{
        padding:0 1.5rem;
    }
}
</style>
</head>

<body>

<!-- ================= NAV ================= -->
<nav class="navbar">
    <div class="logo">
        <span>Sheryians</span>
    </div>

    <ul class="nav-links">
        <li><a href="{% url 'home' %}">Home</a></li>
        <li><a href="{% url 'course_list' %}">Courses</a></li>
        <li><a href="{% url 'cart_page' %}">Cart</a></li>
    </ul>

    <div class="auth-buttons">
        {% if request.user.is_authenticated %}
            <span style="font-size:14px;">Hello, {{ request.user.username }}</span>
            <a href="{% url 'signout' %}" class="login">Logout</a>
        {% else %}
            <a href="{% url 'signin' %}" class="login">Login</a>
            <a href="{% url 'signup' %}" class="signup">Sign Up</a>
        {% endif %}
    </div>
</nav>

<!-- ================= COURSES ================= -->
<div class="container">
    <h1>All Courses</h1>

    {% if courses %}
    <div class="courses">
        {% for course in courses %}
        <div class="course-card">

            {% if course.image %}
                <img src="{{ course.image.url }}" alt="{{ course.title }}">
            {% else %}
                <img src="{% static 'images/no-image.png' %}">
            {% endif %}

            <h3>{{ course.title }}</h3>
            <p>{{ course.short_description|truncatewords:15 }}</p>

            <div class="price">
                {% if course.price_original %}
                    <del>â‚¹{{ course.price_original }}</del>
                {% endif %}
                <strong>â‚¹{{ course.price_discounted }}</strong>

                {% if course.discount_percentage %}
                    <span class="badge">{{ course.discount_percentage }}% OFF</span>
                {% endif %}
            </div>

            <div class="course-type">
                {% if course.is_live %}
                    ðŸ”´ Live Course
                {% else %}
                    ðŸŽ¥ Recorded Course
                {% endif %}
            </div>

            <a href="{% url 'course_detail' course.slug %}" class="btn">
                View Course â†’
            </a>
        </div>
        {% endfor %}
    </div>
    {% else %}
        <p>No courses available.</p>
    {% endif %}
</div>
<!-- FOOTER -->
<footer>
    <div class="footer-grid">
        <div>
            <h3>Company</h3>
            <a href="#">About</a>
            <a href="#">Support</a>
        </div>
        <div>
            <h3>Community</h3>
            <a href="#">Discord</a>
        </div>
        <div>
            <h3>Contact</h3>
            <p>abc@sheryians.com</p>
            <p>Bhopal, India</p>
        </div>
    </div>
    <div class="copy">Â© 2026 Sheryians Pvt. Ltd.</div>
</footer>
</body>
</html>
